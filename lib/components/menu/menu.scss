@import "../../styling/base";
@import "~bootstrap/scss/mixins/nav-divider";

// Dimensions
$menu-item-text-shadow                  : 1px 1px 0px #000000 !default;
$menu-item-font-size                    : $font-size-root !default;
$menu-item-font-weight                  : 400 !default;
$menu-item-icon-font-size               : $font-size-root !default;
$menu-item-padding-y                    : 9px !default; // top / bottom

$menu-submenu-padding-y                 : 0px !default;

$menu-child-item-font-size              : $menu-item-font-size !default;
$menu-child-item-font-weight            : $menu-item-font-weight !default;
$menu-child-item-icon-font-size         : $menu-item-icon-font-size !default;
$menu-child-item-indent                 : 25px !default;
$menu-child-item-padding-y              : $menu-item-padding-y !default; // top / bottom

$menu-divider-margin-y                  : 5px !default;

$menu-header-text-shadow                : 0px 0px 0px #F5F5F5 !default;
$menu-header-font-familiy               : $font-family-base !default;
$menu-header-font-size                  : $font-size-root !default;
$menu-header-font-weight                : 400 !default;
$menu-header-padding-y                  : 2px !default;

// compact
$menu-compact-item-font-size            : 11px !default;
$menu-compact-item-font-weight          : 300 !default;
$menu-compact-item-icon-font-size       : 12px !default;
$menu-compact-item-padding-y            : 5px !default; // top / bottom

$menu-compact-child-item-font-size      : $menu-compact-item-font-size !default;
$menu-compact-child-item-font-weight    : $menu-compact-item-font-weight !default;
$menu-compact-child-item-icon-font-size : $menu-compact-item-icon-font-size !default;
$menu-compact-child-item-indent         : 19px !default;
$menu-compact-child-item-padding-y      : $menu-compact-item-padding-y !default; // top / bottom
$menu-compact-divider-margin-y          : 5px !default;

$menu-compact-header-text-shadow        : $menu-header-text-shadow !default;
$menu-compact-header-font-size          : 12px !default;
$menu-compact-header-font-weight        : $menu-header-font-weight !default;
$menu-compact-header-padding-y          : 5px !default;


// Theme
$menu-header-background                 : transparent !default;
$menu-header-color                      : darken(#A6A6A7, 10) !default;
$menu-header-border-bottom              : 1px solid #353131;


$menu-divider-color                     : $blue-grey-800;
$menu-item-background                   : transparent !default;
$menu-item-icon-color                   : $blue-grey-700 !default;
$menu-item-title-color                  : #A6A6A7 !default;
$menu-item-arrow-color                  : $blue-grey-700 !default;

$menu-item-hover-background             : darken($blue-grey-900, 5) !default;
$menu-item-icon-hover-color             : darken($menu-item-icon-color, 5) !default;
$menu-item-title-hover-color            : darken($menu-item-title-color, 5) !default;
$menu-item-arrow-hover-color            : darken($menu-item-arrow-color, 5) !default;

$menu-item-active-background            : null !default; //rgba($blue-grey-400, 0.1) !default;
$menu-item-icon-active-color            : lighten($menu-item-icon-color, 10) !default;
$menu-item-title-active-color           : lighten($menu-item-title-color, 10) !default;
$menu-item-arrow-active-color           : $menu-item-title-color !default;

$menu-item-selected-background          : null !default;
$menu-item-icon-selected-color          : $menu-item-title-color !default;
$menu-item-title-selected-color         : $menu-item-title-active-color !default;
$menu-item-arrow-selected-color         : $menu-item-title-color !default;


$menu-dropdown-submenu-border-width     : $dropdown-border-width !default;
$menu-dropdown-submenu-border-color     : $dropdown-border-color !default;
$menu-dropdown-submenu-box-shadow       : 1px 1px 5px 2px rgba(#000, 0.175) !default;
$menu-dropdown-submenu-item-background  : $blue-grey-900 !default;
$menu-dropdown-submenu-item-title-color : $blue-grey-200 !default;
$menu-dropdown-submenu-item-icon-color  : $blue-grey-200 !default;
$menu-dropdown-submenu-item-arrow-color : $blue-grey-200 !default;

$menu-slide-submenu-transition          : all 1s linear; //cubic-bezier(0, 1, 0.5, 1) !default;


@mixin menu-submenu-link-padding($padding) {
    .#{$menu-prefix}__submenu {
        .#{$menu-prefix}__type,
        .#{$menu-prefix}__header {
            padding-left : $padding;
        }

        @content
    }
}

@mixin menu-arrow-rotate($rotate: 0deg) {
    .#{$menu-prefix}__arrow > i {
        transform : rotate($rotate);
    }
}

@mixin menu-arrow-down() {
    @include menu-arrow-rotate(90deg)
}

@mixin menu-arrow-right() {
    @include menu-arrow-rotate(0deg)
}

.#{$menu-prefix},
.#{$menu-prefix}__submenu {
    margin     : 0;
    padding    : 0;
    list-style : none;
}

// root > __item[]
.#{$menu-prefix}__item {
    position       : relative;
    display        : flex;
    float          : none;
    flex-direction : column;
    flex-grow      : 1;
    margin         : 0;
    padding        : 0;

    & .expand-enter-active,
    & .expand-leave-active {
        transition : height 0.35s ease;
        overflow   : hidden;
    }

    & .expand-enter,
    & .expand-leave-to {
        height : 0 !important;
    }
}

// root > __item[] > __type
.#{$menu-prefix}__type {
    position        : relative;
    display         : flex;
    align-items     : stretch;
    flex-grow       : 1;
    padding         : $menu-item-padding-y $menu-child-item-indent;
    text-decoration : none;
    outline         : 0;

    &:hover, &:focus, &:active {
        outline         : 0;
        text-decoration : none;
    }

    &:hover {
        text-decoration : none;
    }
}

.#{$menu-prefix}__type--label {}

.#{$menu-prefix}__type--link {}

.#{$menu-prefix}__type--header {}

.#{$menu-prefix}__type--divider {}

// root > __item[] > __type > __icon
.#{$menu-prefix}__icon {
    font-size       : $menu-item-icon-font-size;
    display         : flex;
    align-items     : center;
    flex            : 0 0 30px;
    justify-content : center;
    margin-right    : 10px;
}

// root > __item[] > __type > __title
.#{$menu-prefix}__title {
    font-size    : $menu-item-font-size;
    font-weight  : $menu-item-font-weight;
    display      : flex;
    align-items  : center;
    flex-grow    : 1;
    padding      : 0;
    white-space  : nowrap;
    text-shadow  : $menu-item-text-shadow;
    margin-right : 30px;
}

// root > __item[] > __type > __arrow
.#{$menu-prefix}__arrow {
    font-size       : 9px;
    line-height     : 0;
    display         : flex;
    align-items     : center;
    flex            : 0; // 0 20px;
    justify-content : center;
    margin          : 0 5px;
    width           : 20px;

    > i {
        transition : all 0.2s linear;
        @include fa-icon();

        &:before {
            content : $fa-var-chevron-right
        }
    }
}

// root > __item[] > __submenu
.#{$menu-prefix}__submenu {
    float          : none;
    flex-direction : column;
    flex-grow      : 1;
    padding        : $menu-submenu-padding-y 0;
    min-width      : 100%;

    .#{$menu-prefix}__type {
        padding-top    : $menu-child-item-padding-y;
        padding-bottom : $menu-child-item-padding-y;
    }

    .#{$menu-prefix}__icon {
        font-size : $menu-child-item-icon-font-size;
    }

    .#{$menu-prefix}__title {
        font-size   : $menu-child-item-font-size;
        font-weight : $menu-child-item-font-weight;
    }
}


// menu variants
.#{$menu-prefix}--slide {
    @include menu-submenu-link-padding($menu-child-item-indent * 2) {
        @include menu-submenu-link-padding($menu-child-item-indent * 3) {
            @include menu-submenu-link-padding($menu-child-item-indent * 4) {
                @include menu-submenu-link-padding($menu-child-item-indent * 5) {
                    @include menu-submenu-link-padding($menu-child-item-indent * 6) {
                    }
                }
            }
        }
    }


    .#{$menu-prefix}__item {
        transition : $menu-slide-submenu-transition;
    }

    .#{$menu-prefix}__item--open {
        > .#{$menu-prefix}__type {
            @include menu-arrow-down()
        }
    }
}

.#{$menu-prefix}--dropdown {
    > .#{$menu-prefix}__item {
        > .#{$menu-prefix}__type {
            @include menu-arrow-down();
        }
    }

    .#{$menu-prefix} {
        &__item {
            //z-index : 999;
        }

        &__arrow > i {
            transform : rotate(90deg);
        }
    }

    .#{$menu-prefix}__item--open {
        > .#{$menu-prefix}__submenu {
            display : flex;
        }
    }

    .#{$menu-prefix}__submenu {
        display : none;
        @include menu-arrow-right();
    }
}

.#{$menu-prefix}--compact {
    @include menu-submenu-link-padding($menu-compact-child-item-indent * 2) {
        @include menu-submenu-link-padding($menu-compact-child-item-indent * 3) {
            @include menu-submenu-link-padding($menu-compact-child-item-indent * 4) {
                @include menu-submenu-link-padding($menu-compact-child-item-indent * 5) {
                    @include menu-submenu-link-padding($menu-compact-child-item-indent * 6) {
                    }
                }
            }
        }
    }
    .#{$menu-prefix}__header {
        font-size   : $menu-compact-header-font-size;
        font-weight : $menu-compact-header-font-weight;
        padding     : $menu-compact-header-padding-y $menu-compact-child-item-indent;
        text-shadow : $menu-compact-header-text-shadow;
    }

    .#{$menu-prefix}__divider {
        @include nav-divider($menu-divider-color, $menu-compact-divider-margin-y)
    }

    .#{$menu-prefix}__type {
        padding : $menu-compact-item-padding-y $menu-compact-child-item-indent;
    }

    .#{$menu-prefix}__icon {
        font-size : $menu-compact-item-icon-font-size;
        flex            : 0 0 20px;
    }

    .#{$menu-prefix}__title {
        font-size   : $menu-compact-item-font-size;
        font-weight : $menu-compact-item-font-weight;
    }

    .#{$menu-prefix}__submenu {

        .#{$menu-prefix}__type {
            padding-top    : $menu-compact-child-item-padding-y;
            padding-bottom : $menu-compact-child-item-padding-y;
        }

        .#{$menu-prefix}__icon {
            font-size    : $menu-compact-child-item-icon-font-size;
            flex         : 0 0 15px;
            margin-right : 5px;
        }

        .#{$menu-prefix}__title {
            font-size   : $menu-compact-child-item-font-size;
            font-weight : $menu-compact-child-item-font-weight;
        }
    }

}

.#{$menu-prefix}--horizontal {
    display : flex;
    width   : 100%;

    .#{$menu-prefix}__item,
    .#{$menu-prefix}__header,
    .#{$menu-prefix}__divider {
        flex-direction : row;
        flex-grow      : unset;
        min-width      : 150px;
    }

    > .#{$menu-prefix}__header {
        border-bottom : none;
    }


    .#{$menu-prefix}__divider {
        min-width : unset;
    }

    .#{$menu-prefix}__icon {
        flex         : 0 0 15px;
        margin-right : 5px;
    }
}

.#{$menu-prefix}--sidebar {
    padding-left : 1px !important;
    &[max-width~="150px"] {
        .#{$menu-prefix} {
            padding-left : 1px !important;
            &__title {
                padding-left : 1px !important;
                display      : none;
            }
        }
    }
}


@import "menu-theme";

@include menu-theme(default)

//
////// theme
//.#{$menu-prefix} {
//    @include menu-theme-item-colors(
//            $menu-item-background,
//            $menu-item-icon-color,
//            $menu-item-title-color,
//            $menu-item-arrow-color
//    );
//
//    &__item--hover > {
//        @include menu-theme-item-colors(
//                $menu-item-hover-background,
//                $menu-item-icon-hover-color,
//                $menu-item-title-hover-color,
//                $menu-item-arrow-hover-color
//        );
//    }
//
//    &__item--open >,
//    &__item--active > {
//        @include menu-theme-item-colors(
//                $menu-item-active-background,
//                $menu-item-icon-active-color,
//                $menu-item-title-active-color,
//                $menu-item-arrow-active-color
//        );
//    }
//
//    &__item--selected > {
//        @include menu-theme-item-colors(
//                $menu-item-selected-background,
//                $menu-item-icon-selected-color,
//                $menu-item-title-selected-color,
//                $menu-item-arrow-selected-color
//        );
//    }
//
//    &--dropdown {
//        > .#{$menu-prefix}__item {
//            .#{$menu-prefix}__submenu {
//                box-shadow : $menu-dropdown-submenu-box-shadow;
//                background : $menu-dropdown-submenu-item-background;
//                border     : $menu-dropdown-submenu-border-width solid $menu-dropdown-submenu-border-color;
//
//            }
//        }
//    }
//}

//.#{$menu-prefix}__header {
//    position        : relative;
//    display         : flex;
//    align-items     : stretch;
//    flex-grow       : 1;
//    padding         : $menu-header-padding-y $menu-child-item-indent;
//    text-decoration : none;
//    outline         : 0;
//
//    .#{$menu-prefix}__link {
//        border-bottom : $menu-header-border-bottom;
//        background    : $menu-header-background;
//    }
//
//    .#{$menu-prefix}__title {
//        font-family : $menu-header-font-familiy;
//        font-size   : $menu-header-font-size;
//        font-weight : $menu-header-font-weight;
//        color       : $menu-header-color;
//        text-shadow : $menu-header-text-shadow;
//    }
//}
//
//.#{$menu-prefix}__header {
//    font-family    : $menu-header-font-familiy;
//    font-size      : $menu-header-font-size;
//    font-weight    : $menu-header-font-weight;
//    position       : relative;
//    display        : flex;
//    float          : none;
//    flex-direction : column;
//    flex-grow      : 1;
//    margin         : 0;
//    padding        : $menu-header-padding-y $menu-child-item-indent;
//    color          : $menu-header-color;
//
//    border-bottom  : $menu-header-border-bottom;
//    background     : $menu-header-background;
//    text-shadow    : $menu-header-text-shadow;
//}
//.#{$menu-prefix}__divider {
//    position       : relative;
//    display        : flex;
//    float          : none;
//    flex-direction : column;
//    flex-grow      : 1;
//    margin         : 0;
//    padding        : 0;
//    @include nav-divider($menu-divider-color, $menu-divider-margin-y);
//}


